---
title: "shintoviz test"
output: 
  html_document:
    theme: flatly

---

# Test raw plot methods (no shiny)

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)

library(pals)
library(gapminder)
library(ggplot2)
library(scales)
library(glue)
library(dplyr)
devtools::load_all()

```

# Test data

```{r}

data(gapminder)


```



# plot_horizontal_barplot

```{r}
plot_data <- gapminder %>% 
  filter(year == 2007) %>%
  group_by(continent) %>%
  summarize(population = floor(1e-06 * sum(pop)), .groups = "drop")

plot_horizontal_barplot(plot_data, 
                        xvar = "continent",
                        yvar = "population",
                        palette_function = "ocean.phase",
                        colors = NULL,
                        base_size = 14,
                        label_size = 4,
                        label_k = FALSE, 
                        bar_width = 0.6,
                        title = "Populatie (miljoenen)") + 
  theme(aspect.ratio = 0.25)
```



```{r}
plot_data <- gapminder %>% 
  filter(year == 2007) %>%
  group_by(continent) %>%
  summarize(population = floor(1e-06 * sum(pop)), .groups = "drop") %>%
  mutate(continent = reorder(continent,population,mean, 
                             decreasing = TRUE))  # of FALSE 

plot_horizontal_barplot(plot_data, 
                        xvar = "continent",
                        yvar = "population",
                        palette_function = NULL,
                        colors = rainbow(5),
                        base_size = 14,
                        label_size = 4,
                        label_k = FALSE, 
                        title = "Populatie (miljoenen)")
```


